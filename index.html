<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scroll Panels Effect</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap');

        body {
            margin: 0;
            font-family: sans-serif;
            background: #0f0e0e;
            color: #fff;
            overflow-x: hidden;
        }

        /* ----------- SECTION INTRO ----------- */

        .section--intro {
            background: #0f0e0e;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .section__title {
            font-weight: 300;
            font-size: clamp(2rem, 17vw, 12.5rem);
            margin: 5vh 0 6vh;
            line-height: 0.9;
            text-transform: none;
            text-align: center;
        }

        /* ----------- SECTION ABOUTME ----------- */

        .copy-container {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .copy-container h1 {
            width: 70%;
            color: #141414;
            font-size: 5rem;
            font-weight: 900;
            line-height: 1;
        }


        .anime-text {
            font-family: "DM Sans", sans-serif;
            width: 60%;
            background-color: transparent;
            /* atau #1a1a1a kalau mau menutupi */
        }

        .anime-text p {
            color: #fff;
            text-align: center;
            margin-bottom: 2rem;
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
        }

        .anime-text .word {
            display: inline-block;
            position: relative;
            margin-right: 0.2rem;
            margin-bottom: 0.2rem;
            padding: 0.1rem 0.2rem;
            border-radius: 10rem;
            will-change: background-color, opacity;
        }

        .anime-text .word.keyword-wrapper {
            margin: 0 0.4rem 0.2rem 0.2rem;
        }

        .anime-text .word span {
            position: relative;
        }

        .anime-text .word span.keyword {
            display: inline-block;
            width: 100%;
            height: 100%;
            border-radius: 2rem;
            padding: 0.1rem 0;
            color: #141414;
        }

        .anime-text .word span.keyword::before {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: calc(100% + 1rem);
            height: calc(100% + 0.4rem);
            background-color: #fff;
            border-radius: 2rem;
            z-index: -1;
        }

        .anime-text .word,
        .anime-text .word span {
            opacity: 0;
        }

        .hand-icon {
            width: 3rem;
            height: auto;
            vertical-align: middle;
            margin-left: 0.3rem;
            position: relative;
            top: -0.4rem;
        }

        @media (max-width: 1000px) {
            .copy-container {
                width: 100%;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                text-align: center;
            }

            .copy-container h1 {
                width: 90%;
                font-size: 2.5rem;
                /* sedikit lebih besar */
            }

            .anime-text {
                width: 90%;
            }

            .anime-text p {
                font-size: 2rem;
                line-height: 2.2rem;
                /* jangan terlalu kecil */
            }

            .anime-text .word {
                margin-right: -0.15rem;
                margin-bottom: 0.2rem;
            }

            .hand-icon {
                width: 2.5rem;
                /* sedikit lebih kecil */
                top: -0.3rem;
            }

            .anime-text .word.keyword-wrapper {
                margin: 0 0.2rem 0.4rem;
                /* margin kanan dan bawah lebih besar */
            }

            .anime-text .word span.keyword::before {
                width: calc(100% + 1rem);
                /* lebih lebar */
                height: calc(100% + 0.1rem);
                /* lebih tinggi */
            }
        }

        /* ----------- SECTION CARD PORTO ----------- */

        .section--columns {
            margin-top: 25vh;
            position: relative;
            min-height: 100vh;
            padding: 10vh 0;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
        }

        .columns-inner {
            margin-top: -55rem;
            margin-bottom: 10%;
            display: flex;
            gap: 1vw;
            /* jarak antar kolom lebih rapat */
            width: 200vw;
            /* lebarkan container biar muat banyak kolom */
            transform: rotate(-45deg);
            transform-origin: center center;
        }

        .column-wrap {
            flex: none;
            /* jangan stretch otomatis */
            width: 20vw;
            /* setiap kolom lebih kecil */
            display: flex;
            flex-direction: column;
            gap: 1vw;
        }

        /* optimasi performance */
        .column__item {
            width: 100%;
            height: 30vh;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transform: scale(0.9);
            opacity: 0;
            will-change: transform, opacity;
        }

        .column__item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* ======================= */
        /* RESPONSIVE MOBILE */
        /* ======================= */
        @media (max-width: 768px) {
            .columns-inner {
                width: 140vw;
                /* kasih lebar ekstra biar muat rotasi */
                gap: 5vw;
                /* jarak antar kolom */
            }

            .column-wrap {
                flex: none;
                width: 45vw;
                /* biar cuma 2 kolom pas mobile */
                gap: 5vw;
                /* JARAK VERTIKAL antar card ditambah */
            }

            .column__item {
                aspect-ratio: 1/1;
                /* jadi kotak persegi */
                height: auto;
                /* override tinggi default */
            }

            .section--columns {
                min-height: 250vh;
            }
        }

        @media (max-width: 480px) {
            .columns-inner {
                width: 160vw;
                /* makin lebar di hp kecil */
            }

            .column-wrap {
                width: 60vw;
                /* biar 2 kolom saja di hp kecil */
                gap: 5vw;
                /* jarak vertikal lebih lega di hp kecil */
            }
        }

        /* ----------- SECTION OUTRO ----------- */
        .section--outro {
            position: relative;
            min-height: 100vh;
            /* cukup 1 layar */
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            background: #0f0e0e;
            color: #fff;
            padding: 5vh 2vw;
        }

        .section--outro-wrapper {
            width: 100%;
            max-width: 1200px;
            text-align: center;
        }

        .section--outro .outro-inner {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .section--outro .outro__item {
            flex: 1 1 30%;
            max-width: 300px;
        }

        .section--outro .outro__item img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            object-fit: cover;
        }


        /* ----------- SECTION PORTFOLIO ----------- */
        .section--portfolio {
            background: #141414;
            color: #fff;
            padding: 10vh 5vw;
            text-align: center;
        }

        .section--portfolio .section__title {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .section--portfolio .section__subtitle {
            font-size: 1.2rem;
            color: #bbb;
            margin-bottom: 3rem;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .portfolio-item {
            background: #1f1f1f;
            border-radius: 12px;
            padding: 1rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .portfolio-item img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .portfolio-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }
    </style>
</head>

<body>
    <!-- Section Intro -->
    <section class="section--intro">
        <h2 class="section__title">Hi<br>Welcome</h2>
        <p>Since 2k21 - 2k24</p>
    </section>

    <!-- Section Aboutme -->
    <section class="about anime-text-container">
        <div class="copy-container">
            <div class="anime-text">
                <p>
                    <span class="word">
                        Hi
                        <img src="images/hands.png" alt="hand wave" class="hand-icon">
                    </span>
                    I'm Mochamad Aldi Raihan Fachrizal, a fresh graduate and <span class="keyword">fullstack</span>
                    web
                    & mobile developer,
                    passionate about building elegant and functional digital solutions — always learning, always
                    creating.
                </p>
            </div>
        </div>
    </section>

    <!-- Section Card Porto -->
    <section class="section--columns">
        <div class="columns-inner">
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
            </div>

            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
            <div class="column-wrap">
                <div class="column__item"><img src="images/build-2.jpg" alt="Build 2"></div>
                <div class="column__item"><img src="images/build-3.jpg" alt="Build 3"></div>
                <div class="column__item"><img src="images/build-4.jpg" alt="Build 4"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
                <div class="column__item"><img src="images/build-1.jpg" alt="Build 1"></div>
            </div>
        </div>
    </section>

    <!-- Section Outro -->
    <section class="section--outro">
        <div class="section--outro-wrapper">
            <h2 class="section__title">Recents Project</h2>
            <p>See more of my works soon.</p>

            <div class="outro-inner">
                <div class="outro-wrap">
                    <div class="outro__item"><img src="images/build-1.jpg" alt=""></div>
                    <div class="outro__item"><img src="images/build-2.jpg" alt=""></div>
                    <div class="outro__item"><img src="images/build-3.jpg" alt=""></div>
                </div>
                <div class="outro-wrap">
                    <div class="outro__item"><img src="images/build-4.jpg" alt=""></div>
                    <div class="outro__item"><img src="images/build-1.jpg" alt=""></div>
                    <div class="outro__item"><img src="images/build-2.jpg" alt=""></div>
                </div>
                <div class="outro-wrap">
                    <div class="outro__item"><img src="images/build-3.jpg" alt=""></div>
                    <div class="outro__item"><img src="images/build-4.jpg" alt=""></div>
                    <div class="outro__item"><img src="images/build-1.jpg" alt=""></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section Portfolio -->
    <section class="section--portfolio">
        <div class="portfolio-wrapper">
            <h2 class="section__title">More Works</h2>
            <p class="section__subtitle">Some highlighted projects I’ve worked on recently</p>

            <div class="portfolio-grid">
                <div class="portfolio-item">
                    <img src="images/porto-1.jpg" alt="Portfolio 1">
                    <h3>Landing Page Design</h3>
                </div>
                <div class="portfolio-item">
                    <img src="images/porto-2.jpg" alt="Portfolio 2">
                    <h3>Mobile App UI</h3>
                </div>
                <div class="portfolio-item">
                    <img src="images/porto-3.jpg" alt="Portfolio 3">
                    <h3>Dashboard System</h3>
                </div>
                <div class="portfolio-item">
                    <img src="images/porto-4.jpg" alt="Portfolio 4">
                    <h3>E-commerce Platform</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- GSAP + ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.6/bundled/lenis.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        // ----------- ANIMATE CARD PORTO -----------

        ScrollTrigger.batch(".column__item", {
            start: "top bottom",
            onEnter: (batch) => {
                gsap.fromTo(batch,
                    { y: 100, opacity: 0, scale: 0.9 },
                    {
                        y: 0,
                        opacity: 1,
                        scale: 1,
                        duration: 1,
                        stagger: { each: 0.1, grid: [1, 3] }, // muncul bergiliran
                        ease: "power3.out"
                    }
                );
            },
            onLeaveBack: (batch) => {
                gsap.to(batch, { opacity: 0, y: 100, scale: 0.9, duration: 0.5 });
            }
        });

        gsap.utils.toArray(".column-wrap").forEach((col, i) => {
            gsap.to(col, {
                yPercent: i % 2 === 0 ? -15 : 15,
                ease: "none",
                scrollTrigger: {
                    trigger: ".section--columns",
                    start: "top bottom",
                    end: "bottom top",
                    scrub: true
                }
            });
        });

        // ----------- ANIMATE OUTRO -----------

        gsap.to(".section--outro-wrapper", {
            yPercent: -80,
            force3D: true, // paksa pakai GPU
            ease: "power3.out",
            scrollTrigger: {
                trigger: ".section--outro",
                start: "top bottom",
                end: "bottom top",
                scrub: true
            }
        });

    </script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // ----------- ANIMATE ABOUTME -----------

        document.addEventListener("DOMContentLoaded", () => {
            // Smooth scroll pakai Lenis
            const lenis = new Lenis();
            lenis.on("scroll", ScrollTrigger.update);
            gsap.ticker.add((time) => {
                lenis.raf(time * 1000);
            });
            gsap.ticker.lagSmoothing(0);

            const animeTextParagraphs = document.querySelectorAll(".anime-text p");

            // Warna highlight dasar (abu-abu gelap)
            const wordHighlightBgColor = "60, 60, 60";

            // Kata kunci yang diwarnai khusus
            const keywords = [
                "fullstack",
                "web",
                "mobile",
            ];

            animeTextParagraphs.forEach((paragraph) => {
                const text = paragraph.textContent.trim();
                paragraph.innerHTML = "";

                const words = text.split(/\s+/);
                let isFirst = true;

                words.forEach((word, idx) => {
                    const span = document.createElement("span");
                    span.className = "word";
                    span.style.backgroundColor = `rgba(${wordHighlightBgColor}, 0)`; // default transparan
                    span.style.borderRadius = "0.5rem"; // bulatan/rounded card
                    span.style.padding = "0.1rem 0.3rem"; // sesuaikan padding

                    // Gabungkan "Hi there!" dan sisipkan hand icon
                    if (isFirst && word.toLowerCase() === "hi") {
                        span.textContent = "Hi there! ";
                        const img = document.createElement("img");
                        img.src = "images/hands.png";
                        img.alt = "hand wave";
                        img.className = "hand-icon";
                        span.appendChild(img);
                        isFirst = false;
                    } else if (idx > 1 || !isFirst) {
                        span.textContent = word;
                    }

                    // jika kata termasuk keyword
                    const normalizedWord = word.toLowerCase().replace(/[.,!?;:"]/g, "");
                    if (keywords.includes(normalizedWord)) {
                        span.classList.add("keyword-wrapper");
                        const keywordSpan = document.createElement("span");
                        keywordSpan.className = "keyword";
                        keywordSpan.textContent = word;
                        span.innerHTML = ""; // hapus teks sebelumnya
                        span.appendChild(keywordSpan);
                    }

                    paragraph.appendChild(span);
                    paragraph.appendChild(document.createTextNode(" "));
                });
            });

            const animeTextContainers = document.querySelectorAll(".anime-text-container");

            animeTextContainers.forEach((container) => {
                ScrollTrigger.create({
                    trigger: container,
                    pin: true,
                    start: "top 23%",
                    end: "+=100%",
                    scrub: true,
                    onUpdate: (self) => {
                        const progress = self.progress;
                        const words = Array.from(container.querySelectorAll(".anime-text .word"));
                        const totalWords = words.length;
                        const overlapWords = 8;
                        const lastWordEnd = (totalWords - 1 + overlapWords) / totalWords;

                        words.forEach((word, index) => {
                            const wordText = word.querySelector("span") || word;

                            const wordStart = index / totalWords / lastWordEnd;
                            const wordEnd = (index + overlapWords) / totalWords / lastWordEnd;
                            const duration = wordEnd - wordStart;

                            let wordProgress =
                                progress <= wordStart ? 0 :
                                    progress >= wordEnd ? 1 :
                                        (progress - wordStart) / duration;

                            // opacity kata
                            word.style.opacity = wordProgress;

                            // background highlight default (bulatan transparan)
                            const backgroundFadeStart = wordProgress >= 0.9 ? (wordProgress - 0.9) / 0.1 : 0;
                            const backgroundOpacity = Math.max(0, 1 - backgroundFadeStart);
                            word.style.backgroundColor = `rgba(${wordHighlightBgColor}, ${backgroundOpacity})`;

                            // teks muncul halus
                            const textRevealThreshold = 0.9;
                            const textRevealProgress =
                                wordProgress < textRevealThreshold ? wordProgress / textRevealThreshold : 1;

                            wordText.style.opacity = Math.pow(textRevealProgress, 0.5);
                        });
                    }
                });
            });

            ScrollTrigger.refresh();
        });
    </script>
</body>

</html>